{
  "model": {
    "name": "Finnish Traffic Insurance DMN",
    "namespace": "https://liikennevakuutus-fi/dmn/traffic-insurance",
    "version": "1.0",
    "description": "DMN-compatible business rules for Liikennevakuutuslaki (460/2016)",
    "based_on": "Liikennevakuutuslaki (Traffic Insurance Act) 460/2016",
    "source": "https://www.finlex.fi/fi/lainsaadanto/2016/460",
    "decisions": [
      {
        "name": "MandatoryInsuranceRequirement",
        "description": "Determine if vehicle requires mandatory traffic insurance",
        "hit_policy": "UNIQUE",
        "input_variables": ["vehicle.permanent_location", "vehicle.requires_insurance", "vehicle.type"],
        "output_variable": "insurance_required",
        "legal_source": "Section 5",
        "rules": [
          {"inputs": ["FI", true, "MotorVehicle"], "output": "MandatoryTrafficInsurance", "legal_basis": "Section 5(1)", "source_text": "Liikenteeseen käytettäväksi tarkoitettu ajoneuvo"},
          {"inputs": ["FI", true, "Trailer"], "output": "MandatoryTrafficInsurance", "legal_basis": "Section 5(1)", "source_text": "Perävaunu"},
          {"inputs": ["EEA", true, "any"], "output": "Check registration country", "legal_basis": "Section 6a", "source_text": "EEA-maasta tuotu ajoneuvo"},
          {"inputs": ["Non-EEA", true, "any"], "output": "MandatoryTrafficInsurance", "legal_basis": "Section 5(1)", "source_text": "Kolmannesta maasta tuotu"}
        ]
      },
      {
        "name": "InsuranceObligationLiableParty",
        "description": "Determine who is liable for insurance obligation",
        "hit_policy": "FIRST",
        "input_variables": ["vehicle.owner", "vehicle.holder", "vehicle.ownership_transferred"],
        "output_variable": "liable_party",
        "legal_source": "Section 6",
        "rules": [
          {"inputs": ["exists", "exists", true], "output": "Owner and Holder jointly liable", "legal_basis": "Section 6(1)", "source_text": "Omistaja ja haltija yhteisvastuussa"},
          {"inputs": ["exists", null, true], "output": "Owner liable", "legal_basis": "Section 6(1)", "source_text": "Omistaja vastaa"},
          {"inputs": [null, "exists", true], "output": "Holder liable", "legal_basis": "Section 6(1)", "source_text": "Haltija vastaa"},
          {"inputs": ["exists", null, false], "output": "Owner liable from ownership", "legal_basis": "Section 6(2)", "source_text": "Omistus siirtyy"}
        ]
      },
      {
        "name": "CoverageCompensation",
        "description": "Determine what is covered by traffic insurance",
        "hit_policy": "FIRST",
        "input_variables": ["damage.type", "damage.person", "damage.property"],
        "output_variable": "coverage",
        "legal_source": "Sections 12-16",
        "rules": [
          {"inputs": ["PersonalInjury", true, false], "output": "100% covered", "legal_basis": "Section 12(1)", "source_text": "Henkilövahinko"},
          {"inputs": ["PersonalInjury", true, true], "output": "100% covered", "legal_basis": "Section 12(1)", "source_text": "Henkilö- ja esinevahinko"},
          {"inputs": ["PropertyDamage", false, true], "output": "100% covered", "legal_basis": "Section 12(1)", "source_text": "Esinevahinko"},
          {"inputs": ["VehicleDamage", false, true], "output": "100% covered", "legal_basis": "Section 12(1)", "source_text": "Ajoneuvovahinko"},
          {"inputs": ["EnvironmentalDamage", false, true], "output": "100% covered", "legal_basis": "Section 12(2)", "source_text": "Ympäristövahinko"}
        ]
      },
      {
        "name": "Exclusions",
        "description": "Determine what is NOT covered by traffic insurance",
        "hit_policy": "FIRST",
        "input_variables": ["driver.intent", "driver.drunkenness", "vehicle.purpose", "accident.location"],
        "output_variable": "excluded",
        "legal_source": "Sections 17-21",
        "rules": [
          {"inputs": ["Intentional", "any", "any", "any"], "output": "Excluded - Intentional damage", "legal_basis": "Section 17(1)", "source_text": "Tahallinen vahinko"},
          {"inputs": ["any", " intoxicated", "any", "any"], "output": "Excluded - Drunken driving", "legal_basis": "Section 18(1)", "source_text": "Humalassa ajaminen"},
          {"inputs": ["any", "any", "Race", "any"], "output": "Excluded - Racing", "legal_basis": "Section 19(1)", "source_text": "Kilpaileminen"},
          {"inputs": ["any", "any", "Stunt", "any"], "output": "Excluded - Stunt driving", "legal_basis": "Section 19(2)", "source_text": "Temppujen ajaminen"},
          {"inputs": ["any", "any", "any", "PrivateArea"], "output": "May be excluded", "legal_basis": "Section 20", "source_text": "Yksityisalue"}
        ]
      },
      {
        "name": "MedicalExpenseCoverage",
        "description": "Determine medical expense compensation",
        "hit_policy": "FIRST",
        "input_variables": ["injury.type", "treatment.necessity", "treatment.provider"],
        "output_variable": "coverage_percentage",
        "legal_source": "Section 5",
        "rules": [
          {"inputs": ["Emergency", "required", "public"], "output": "100%", "legal_basis": "Section 5a", "source_text": "Ensiavun hoitokustannukset"},
          {"inputs": ["Emergency", "required", "private"], "output": "100% (reimbursement)", "legal_basis": "Section 5a", "source_text": "Yksityisen ensiavun kustannukset"},
          {"inputs": ["Surgery", "required", "any"], "output": "100%", "legal_basis": "Section 5a", "source_text": "Leikkaushoito"},
          {"inputs": ["Medicines", "prescribed", "pharmacy"], "output": "100%", "legal_basis": "Section 5b", "source_text": "Lääkkeet"},
          {"inputs": ["Rehabilitation", "required", "any"], "output": "100%", "legal_basis": "Section 5c", "source_text": "Kuntoutus"},
          {"inputs": ["Dental", "accident_related", "any"], "output": "100%", "legal_basis": "Section 5e", "source_text": "Hammasvamman hoito"},
          {"inputs": ["Prosthesis", "required", "any"], "output": "100%", "legal_basis": "Section 5f", "source_text": "Proteesi"}
        ]
      },
      {
        "name": "LostWagesCompensation",
        "description": "Calculate lost wages compensation",
        "hit_policy": "UNIQUE",
        "input_variables": ["income.type", "income.amount", "work_ability.lost_days"],
        "output_variable": "compensation",
        "legal_source": "Section 4",
        "rules": [
          {"inputs": ["Employed", "net_monthly", "any"], "output": "net_monthly / 30 * days", "legal_basis": "Section 4(1)", "source_text": "Työansion menetys"},
          {"inputs": ["SelfEmployed", "annual", "any"], "output": "annual / 365 * days", "legal_basis": "Section 4(2)", "source_text": "Yrittäjän ansionmenetys"},
          {"inputs": ["Unemployed", "any", "any"], "output": "Minimum 36.90/day", "legal_basis": "Section 4(3)", "source_text": "Työttömän ansionmenetys"},
          {"inputs": ["Student", "any", "any"], "output": "Student grant adjustment", "legal_basis": "Section 4(4)", "source_text": "Opiskelijan ansionmenetys"}
        ]
      },
      {
        "name": "PainAndSufferingCompensation",
        "description": "Calculate pain and suffering compensation",
        "hit_policy": "UNIQUE",
        "input_variables": ["injury.permanent", "injury.percentage", "pain.level"],
        "output_variable": "compensation",
        "legal_source": "Section 5",
        "rules": [
          {"inputs": [true, "1-10%", "moderate"], "output": "Section 5(2) scale", "legal_basis": "Section 5(2)", "source_text": "Pysyvä haitta 1-10%"},
          {"inputs": [true, "11-20%", "moderate"], "output": "Section 5(2) scale", "legal_basis": "Section 5(2)", "source_text": "Pysyvä haitta 11-20%"},
          {"inputs": [true, "21-50%", "significant"], "output": "Section 5(2) scale", "legal_basis": "Section 5(2)", "source_text": "Pysyvä haitta 21-50%"},
          {"inputs": [true, "51-100%", "severe"], "output": "Section 5(2) scale", "legal_basis": "Section 5(2)", "source_text": "Pysyvä haitta 51-100%"},
          {"inputs": [false, "any", "any"], "output": "Temporary pain - scale", "legal_basis": "Section 5(1)", "source_text": "Tilapäinen kipu"}
        ]
      },
      {
        "name": "DeathCompensation",
        "description": "Calculate death compensation",
        "hit_policy": "FIRST",
        "input_variables": ["deceased.income", "survivors.relationship", "survivors.dependent"],
        "output_variable": "compensation",
        "legal_source": "Sections 7-8",
        "rules": [
          {"inputs": ["exists", "Spouse", true], "output": "Spouse pension + lump sum", "legal_basis": "Section 7(1)", "source_text": "Leskeneläke"},
          {"inputs": ["exists", "Child", true], "output": "Child pension", "legal_basis": "Section 7(2)", "source_text": "Lapseneläke"},
          {"inputs": ["none", "Dependent", true], "output": "Lump sum", "legal_basis": "Section 8", "source_text": "Kertakorvaus"},
          {"inputs": ["any", "Parent", true], "output": "Funeral expenses + compensation", "legal_basis": "Section 8", "source_text": "Vanhemmille korvaus"}
        ]
      },
      {
        "name": "PropertyDamageCompensation",
        "description": "Calculate property damage compensation",
        "hit_policy": "UNIQUE",
        "input_variables": ["property.type", "property.value", "damage.severity"],
        "output_variable": "compensation",
        "legal_source": "Section 3",
        "rules": [
          {"inputs": ["Vehicle", "market_value", "TotalLoss"], "output": "Market value", "legal_basis": "Section 3(1)", "source_text": "Ajoneuvon täysarvo"},
          {"inputs": ["Vehicle", "market_value", "Partial"], "output": "Repair cost", "legal_basis": "Section 3(1)", "source_text": "Korjauskustannukset"},
          {"inputs": ["Property", "any", "any"], "output": "Actual value", "legal_basis": "Section 3(1)", "source_text": "Esinevahinko"},
          {"inputs": ["Clothing", "any", "any"], "output": "Replacement value", "legal_basis": "Section 3(2)", "source_text": "Vaatevahinko"}
        ]
      },
      {
        "name": "ClaimTimeLimit",
        "description": "Determine claim submission time limit",
        "hit_policy": "UNIQUE",
        "input_variables": ["claim.type", "accident.date"],
        "output_variable": "time_limit",
        "legal_source": "Section 74",
        "rules": [
          {"inputs": ["PersonalInjury", "any"], "output": "3 years from injury", "legal_basis": "Section 74(1)", "source_text": "Henkilövahinko 3 vuotta"},
          {"inputs": ["PropertyDamage", "within_1_year"], "output": "1 year from accident", "legal_basis": "Section 74(2)", "source_text": "Esinevahinko 1 vuosi"},
          {"inputs": ["PropertyDamage", "after_1_year"], "output": "Claim barred", "legal_basis": "Section 74(2)", "source_text": "Määräaika umpeutunut"}
        ]
      },
      {
        "name": "PremiumCalculation",
        "description": "Calculate insurance premium",
        "hit_policy": "UNIQUE",
        "input_variables": ["vehicle.type", "driver.age", "claims.history", "usage.purpose"],
        "output_variable": "premium",
        "legal_source": "Sections 89-92",
        "rules": [
          {"inputs": ["PrivateCar", "over_25", "no_claims", "Private"], "output": "Base premium", "legal_basis": "Section 89", "source_text": "Perusvakuutusmaksu"},
          {"inputs": ["PrivateCar", "under_25", "no_claims", "Private"], "output": "Base premium * 1.5", "legal_basis": "Section 90", "source_text": "Nuori kuljettaja"},
          {"inputs": ["PrivateCar", "any", "with_claims", "any"], "output": "Base premium + claim loading", "legal_basis": "Section 91", "source_text": "Korotusmaksu"},
          {"inputs": ["Commercial", "any", "any", "any"], "output": "Commercial rate", "legal_basis": "Section 92", "source_text": "Kaupallinen ajoneuvo"}
        ]
      },
      {
        "name": "InternationalCoverage",
        "description": "Determine international coverage",
        "hit_policy": "FIRST",
        "input_variables": ["accident.country", "green_card.valid", "vehicle.registered"],
        "output_variable": "coverage",
        "legal_source": "Sections 10-11",
        "rules": [
          {"inputs": ["Finland", "any", "FI"], "output": "Full coverage", "legal_basis": "Section 10(1)", "source_text": "Suomessa"},
          {"inputs": ["EEA", true, "any"], "output": "Full coverage - Green Card", "legal_basis": "Section 10(2)", "source_text": "Eta-maassa vihreällä kortilla"},
          {"inputs": ["EEA", false, "any"], "output": "Limited - Bureau guarantee", "legal_basis": "Section 10(3)", "source_text": "Kansainvälinen sopimus"},
          {"inputs": ["Non-EEA", "any", "any"], "output": "Check bilateral agreement", "legal_basis": "Section 11", "source_text": "Kolmannet maat"}
        ]
      },
      {
        "name": "InsolvencyProtection",
        "description": "Protection when insurer becomes insolvent",
        "hit_policy": "UNIQUE",
        "input_variables": ["insurer.status", "policy.active", "claim.pending"],
        "output_variable": "protection",
        "legal_source": "Section 77",
        "rules": [
          {"inputs": ["Insolvent", true, true], "output": "Finnish Guarantee Fund pays", "legal_basis": "Section 77(1)", "source_text": "Suomen vakuutusrahasto"},
          {"inputs": ["Insolvent", true, false], "output": "Transfer to another insurer", "legal_basis": "Section 77(2)", "source_text": "Siirto toiselle vakuuttajalle"},
          {"inputs": ["Healthy", true, true], "output": "Normal claims process", "legal_basis": "Section 76", "source_text": "Normaali käsittely"}
        ]
      }
    ],
    "metadata": {
      "created": "2026-02-24",
      "dmn_version": "1.3",
      "compatible_engines": ["Camunda DMN", "Drools DMN", "IBM ODM", "Flowable DMN"],
      "law_reference": "Liikennevakuutuslaki 460/2016",
      "rules_count": 46,
      "note": "Original business_rules_verified.json preserved"
    }
  }
}
